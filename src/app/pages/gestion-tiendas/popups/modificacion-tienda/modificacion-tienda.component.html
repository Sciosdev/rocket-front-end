<p-blockUI [blocked]="blocked" [target]="form"></p-blockUI>

<nb-card status="primary" >
  <nb-card-header
    >Modificaci칩n de tienda: [{{ mtienda.nombreTienda }}]
  </nb-card-header>
  <nb-card-body>
    <div class="d-flex justify-content-left">
      <div class="p-2">
        <img
          class="border border-secondary"
          [src]="imagePath"
          width="150px"
          height="150px"
          *ngIf="mtienda.logo && mtienda.logo != 'nologo'"
        />
        <div
          class="border border-secondary"
          style="width: 150px; height: 150px"
          *ngIf="!mtienda.logo || mtienda.logo == 'nologo'"
        >
          <div class="d-flex align-items-center justify-content-center h-100">
            <div>
              <div class="d-flex justify-content-center big-icon">
                <nb-icon icon="video-off-outline" status="info"></nb-icon>
              </div>
              <div class="d-flex justify-content-center">
                <span>Sin Imagen</span>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="p-2">
        <p-fileUpload
          #form
          name="myfile[]"
          accept="image/*"
          mode="basic"
          chooseLabel="Seleccionar imagen"
          chooseIcon="pi-search"
          uploadLabel="Cargar"
          cancelLabel="Cancelar"
          [customUpload]="true"
          (uploadHandler)="myUploader($event, form)"
          (onBeforeUpload) = "onBeforeUpload()"
          (onUpload) = "onUpload()"
          [auto]="true"
        ></p-fileUpload>
        <hr/>
        <button mat-raised-button color="accent" matRipple (click)="deleteLogo()" size="large">
          <nb-icon icon="trash-2-outline" ></nb-icon>
          Quitar Im치gen
        </button>
      </div>
    </div>

    <div class="p-2">
      <form>
        <div class="row">
          <div class="col-sm-12">
            <div class="form-group">
              <label for="nombreTienda" class="label">Nombre</label>
              <input
                type="text"
                nbInput
                fullWidth
                id="nombreTienda"
                placeholder="Nombre"
                [value]="mtienda.nombreTienda | undefined"
                [(ngModel)]="mtienda.nombreTienda"
                name="nombreTienda"
              />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <div class="form-group">
              <label for="direccion" class="label">Direcci칩n</label>
              <input
                type="text"
                nbInput
                fullWidth
                id="direccion"
                placeholder="Direcci칩n"
                [value]="mtienda.direccion | undefined"
                [(ngModel)]="mtienda.direccion"
                name="direccion"
              />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-12">
            <div class="form-group">
              <label for="sitio" class="label">Sitio</label>
              <input
                type="text"
                nbInput
                fullWidth
                id="sitio"
                placeholder="Sitio"
                [value]="mtienda.sitio | undefined"
                [(ngModel)]="mtienda.sitio"
                name="sitio"
              />
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-sm-6">
            <div class="form-group">
              <label for="email" class="label">Correo</label>
              <input
                type="email"
                nbInput
                fullWidth
                id="email"
                placeholder="Correo"
                [value]="mtienda.email | undefined"
                [(ngModel)]="mtienda.email"
                name="email"
              />
            </div>
          </div>
          <div class="col-sm-6">
            <div class="form-group">
              <label for="telefono" class="label">Telefono</label>
              <input
              type="tel"
                nbInput
                fullWidth
                id="telefono"
                placeholder="Telefono"
                [value]="mtienda.telefono | undefined"
                [(ngModel)]="mtienda.telefono"
                name="telefono"
              />
            </div>
          </div>
        </div>
      </form>
    </div>
    <div class="d-flex justify-content-end">
      <div class="p-2">
        <button mat-raised-button color="accent" matRipple (click)="accept()">
          <nb-icon icon="checkmark-square-2-outline"></nb-icon>
          Aceptar
        </button>
      </div>
      <div class="p-2">
        <button mat-raised-button color="primary" matRipple (click)="cancel()">
          <nb-icon icon="close-square-outline"></nb-icon>
          Cancelar
        </button>
      </div>
    </div>
  </nb-card-body>
</nb-card>
